<%= turbo_frame_tag "modal" do %>
  <div
    class="
      fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40
      backdrop-blur-sm
    "
  >
    <div
      class="
        bg-white rounded-[24px] shadow-2xl w-full max-w-lg mx-4 p-8 border
        border-[#F1F5F9]
      "
    >

      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-[#0F172A]">Edit Event</h2>
        <%= link_to job_path(@job), data: { turbo_frame: "_top" }, class: "text-gray-400 hover:text-gray-600" do %>
          <%= icon_close %>
        <% end %>
      </div>

      <%= form_with(model: [@job, @event], data: { turbo_frame: "_top" }, class: "space-y-5") do |f| %>
        <div class="flex flex-col gap-2">
          <%= f.label :event_type, "Event Type *", class: "font-bold text-sm text-[#0F172A]" %>
          <%= f.select :event_type,
                   [
                     "Phone Screen",
                     "Technical Interview",
                     "Onsite",
                     "Offer",
                     "Rejection",
                   ],
                   {},
                   class:
                     "bg-[#F1F5F9] border-none rounded-xl p-4 w-full focus:ring-2 focus:ring-blue-500 appearance-none" %>
        </div>

        <div class="flex flex-col gap-2">
          <%= f.label :event_date, "Date *", class: "font-bold text-sm text-[#0F172A]" %>
          <%= f.date_field :event_date,
                       class:
                         "bg-[#F1F5F9] border-none rounded-xl p-4 w-full focus:ring-2 focus:ring-blue-500" %>
        </div>

        <div class="flex flex-col gap-2">
          <%= f.label :notes, "Notes", class: "font-bold text-sm text-[#0F172A]" %>
          <%= f.text_area :notes,
                      rows: 3,
                      class:
                        "bg-[#F1F5F9] border-none rounded-xl p-4 w-full focus:ring-2 focus:ring-blue-500" %>
        </div>

        <div class="flex justify-end gap-3 mt-8">
          <%= link_to "Cancel",
          job_path(@job),
          data: {
            turbo_frame: "_top",
          },
          class: "px-6 py-2.5 rounded-xl font-bold border border-[#E2E8F0] text-[#64748B]" %>
          <%= f.submit "Update Event",
                   class:
                     "bg-[#020617] text-white px-6 py-2.5 rounded-xl font-bold cursor-pointer" %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
